Complete Commands

sh

# Step 1: Extract the source code
tar -xzvf etcd-3.4.32.tar.gz
cd etcd-3.4.32

# Step 2: Create a Dockerfile
cat <<EOF > Dockerfile
FROM golang:1.17 AS builder
WORKDIR /etcd
COPY . .
RUN ./build

FROM alpine:3.14
COPY --from=builder /etcd/bin/etcd /usr/local/bin/
COPY --from=builder /etcd/bin/etcdctl /usr/local/bin/
EXPOSE 2379 2380
ENTRYPOINT ["/usr/local/bin/etcd"]
EOF

# Step 3: Build the Docker image
sudo podman build -t localhost:443/etcd:3.4.32 .

# Step 4: Push the Docker image to your local registry
sudo podman push localhost:443/etcd:3.4.32

# Step 5: Verify the image
sudo podman images

This will build and push
